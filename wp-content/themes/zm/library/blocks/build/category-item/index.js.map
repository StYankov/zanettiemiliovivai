{"version":3,"file":"category-item/index.js","mappings":"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","sources":["webpack://hlebarovpress/./blocks/category-item/block.jsx","webpack://hlebarovpress/./blocks/category-item/edit.jsx","webpack://hlebarovpress/./blocks/category-item/inspector-controls.jsx","webpack://hlebarovpress/external window [\"wp\",\"apiFetch\"]","webpack://hlebarovpress/external window [\"wp\",\"blockEditor\"]","webpack://hlebarovpress/external window [\"wp\",\"blocks\"]","webpack://hlebarovpress/external window [\"wp\",\"components\"]","webpack://hlebarovpress/external window [\"wp\",\"element\"]","webpack://hlebarovpress/webpack/bootstrap","webpack://hlebarovpress/webpack/runtime/compat get default export","webpack://hlebarovpress/webpack/runtime/define property getters","webpack://hlebarovpress/webpack/runtime/hasOwnProperty shorthand","webpack://hlebarovpress/webpack/runtime/make namespace object","webpack://hlebarovpress/./blocks/category-item/index.js"],"sourcesContent":["import { useEffect, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst defaultTerm = () => ({\n    featuredImage: 'https://dummyimage.com/300x300/fff/aaa',\n    url: '#',\n    name: 'Example Term',\n    count: 4\n});\n\nexport function CategoryItem({ attributes }) {\n    const { categoryId } = attributes;\n    const [category, setCategory] = useState(defaultTerm());\n\n    useEffect(() => {\n        if(!categoryId) {\n            return;\n        }\n\n        apiFetch( {\n            path: `/wp/v2/product_cat/${categoryId}`\n        } ).then( term => {\n            setCategory({\n                featuredImage: term.featured_image, \n                url: term.link,\n                name: term.name,\n                count: term.count\n            });\n        } );\n    }, [categoryId]);\n\n    return (\n        <div className=\"category-item\">\n            <div className=\"category-item__thumbnail\">\n                <img src={ category.featuredImage } />\n            </div>\n            <a className=\"category-item__link\" href={ category.url }>\n                <span className=\"category-item__name h4\">{ category.name }</span>\n                <span className=\"category-item__count\">{ category.count } products</span>\n            </a>\n        </div>\n    );\n}","import { useBlockProps } from '@wordpress/block-editor';\nimport { CategoryItemInspectorControls } from './inspector-controls';\nimport { CategoryItem } from './block';\n\nexport function Edit(props) {\n\tconst blockProps = useBlockProps();\n    return (\n        <div {...blockProps}>\n            <CategoryItemInspectorControls {...props} />\n            <CategoryItem {...props} />\n        </div>\n    );\n}","import { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, PanelRow, SelectControl } from '@wordpress/components';\nimport { useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nexport function CategoryItemInspectorControls({ attributes, setAttributes }) {\n    const { categoryId, categories = [] } = attributes;\n\n    useEffect(() => {\n        apiFetch( { path: '/wp/v2/product_cat?per_page=100' } ).then( ( terms ) => {\n            const categories = terms.map( term => {\n                return {\n                    value: term.id,\n                    label: term.name\n                };\n            } );\n\n            setAttributes({ categories });\n        } );\n    }, []);\n\n    return (\n        <InspectorControls>\n            <PanelBody title='Settings' initialOpen>\n                <PanelRow>\n                    <SelectControl\n                        name='categoryId'\n                        className='category-item-selector'\n                        label=\"Category\"\n                        value={categoryId}\n                        options={categories}\n                        onChange={ value => setAttributes({ categoryId: parseInt(value) }) }\n                        default=\"Select Category\"\n                    />\n                </PanelRow>\n            </PanelBody>\n        </InspectorControls>\n    );\n}","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport metadata from './block.json';\n\nimport { Edit } from './edit';\n\nregisterBlockType(metadata.name, {\n    title: metadata.title,\n    attributes: metadata.attributes,\n    supports: metadata.supports,\n    edit: Edit,\n    save(props) {\n        return null;\n    }\n});"],"names":["useEffect","useState","apiFetch","defaultTerm","featuredImage","url","name","count","CategoryItem","attributes","categoryId","category","setCategory","path","then","term","featured_image","link","useBlockProps","CategoryItemInspectorControls","Edit","props","blockProps","InspectorControls","PanelBody","PanelRow","SelectControl","setAttributes","categories","terms","map","value","id","label","parseInt","registerBlockType","metadata","title","supports","edit","save"],"sourceRoot":""}