{"version":3,"file":"product-grid-tabs/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAEO,SAASI,KAAT,OAA8C;EAAA,IAA/B;IAAEC,UAAF;IAAcC;EAAd,CAA+B;EACjD,MAAMC,GAAG,GAAG,6CAAZ;EACA,MAAMC,MAAM,GAAG,6CAAf;EAEA,MAAM;IACFC,cADE;IAEFC,gBAFE;IAGFC,WAHE;IAIFC,oBAJE;IAKFC,eALE;IAMFC;EANE,IAOFT,UAPJ;EASAJ,6DAAS,CAAC,MAAM;IACZD,2DAAQ,CAAC;MACLe,IAAI,EAAG,gCAA+BR,GAAI,oBAAmBC,MAAO;IAD/D,CAAD,CAAR,CAEGQ,IAFH,CAEQC,QAAQ,IAAI;MAChBX,aAAa,CAAC;QAAEM,oBAAoB,EAAEK;MAAxB,CAAD,CAAb;IACH,CAJD;IAMAjB,2DAAQ,CAAC;MACLe,IAAI,EAAG,gCAA+BR,GAAI,oBAAmBC,MAAO;IAD/D,CAAD,CAAR,CAEGQ,IAFH,CAEQC,QAAQ,IAAI;MAChBX,aAAa,CAAC;QAAEO,eAAe,EAAEI;MAAnB,CAAD,CAAb;IACH,CAJD;IAMAjB,2DAAQ,CAAC;MACLe,IAAI,EAAG,gCAA+BR,GAAI,oBAAmBC,MAAO;IAD/D,CAAD,CAAR,CAEGQ,IAFH,CAEQC,QAAQ,IAAI;MAChBX,aAAa,CAAC;QAAEQ,kBAAkB,EAAEG;MAAtB,CAAD,CAAb;IACH,CAJD;EAMH,CAnBQ,EAmBN,EAnBM,CAAT;EAqBA,OACI;IAAK,SAAS,EAAC;EAAf,GACI;IAAK,SAAS,EAAC;EAAf,GACI,0GADJ,EAEI,kEAAC,kDAAD;IAAM,UAAU,EAAEZ;EAAlB,EAFJ,CADJ,EAKI;IAAK,SAAS,EAAC;EAAf,GACMK,gBAAgB,IAAIE,oBAApB,IAA4C,kEAAC,8DAAD;IAAY,QAAQ,EAAEA;EAAtB,EADlD,EAEMD,WAAW,IAAIE,eAAf,IAAkC,kEAAC,8DAAD;IAAY,QAAQ,EAAEA;EAAtB,EAFxC,EAGMJ,cAAc,IAAIK,kBAAlB,IAAwC,kEAAC,8DAAD;IAAY,QAAQ,EAAEA;EAAtB,EAH9C,CALJ,CADJ;AAaH;;;;;;;;;;;;;;;;;ACrDM,SAASI,OAAT,OAA8B;EAAA,IAAb;IAAEC;EAAF,CAAa;EACjC,MAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;EACA,MAAMC,SAAS,GAAG,IAAID,IAAJ,CAASF,OAAO,CAACI,YAAjB,CAAlB;EACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAASN,GAAG,GAAGE,SAAf,CAAjB;EACA,MAAMK,QAAQ,GAAGF,IAAI,CAACG,IAAL,CAAUJ,QAAQ,IAAI,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAArB,CAAlB,CAAjB;EAEA,MAAMK,KAAK,GAAGF,QAAQ,GAAG,EAAzB;EAEA,MAAMG,cAAc,GAAGL,IAAI,CAACG,IAAL,CAAU,CAACG,UAAU,CAACZ,OAAO,CAACa,aAAT,CAAV,GAAoCD,UAAU,CAACZ,OAAO,CAACc,UAAT,CAA/C,IAAuEF,UAAU,CAACZ,OAAO,CAACa,aAAT,CAAjF,GAA2G,GAArH,CAAvB;EAEA,OACI;IAAK,SAAS,EAAC;EAAf,GACI;IAAK,SAAS,EAAC;EAAf,GACI;IAAK,SAAS,EAAC;EAAf,GACMb,OAAO,CAACe,MAAR,CAAeC,MAAf,IAAyB;IAAK,GAAG,EAAEhB,OAAO,CAACe,MAAR,CAAe,CAAf,EAAkBE;EAA5B,EAD/B,CADJ,EAII;IAAK,SAAS,EAAC;EAAf,GACI;IAAI,SAAS,EAAC;EAAd,GAAsCjB,OAAO,CAACkB,IAA9C,CADJ,EAEI;IAAK,SAAS,EAAC,qBAAf;IAAqC,uBAAuB,EAAE;MAAEC,MAAM,EAAEnB,OAAO,CAACoB;IAAlB;EAA9D,EAFJ,CAJJ,EAQMpB,OAAO,CAACqB,OAAR,IAAmB;IAAK,SAAS,EAAC;EAAf,QAAuCV,cAAvC,MARzB,EASMD,KAAK,IAAI;IAAK,SAAS,EAAC;EAAf,SATf,EAUI;IAAG,IAAI,EAAEV,OAAO,CAACsB,SAAjB;IAA4B,SAAS,EAAC;EAAtC,EAVJ,CADJ,CADJ;AAgBH;;;;;;;;;;;;;;;;;;AC1BD;AAEO,SAAStC,UAAT,OAAkC;EAAA,IAAd;IAAEc;EAAF,CAAc;EACrC,OACI;IAAK,SAAS,EAAC;EAAf,GACMA,QAAQ,CAACyB,GAAT,CAAavB,OAAO,IAAI,kEAAC,6CAAD;IAAS,GAAG,EAAEA,OAAO,CAACwB,EAAtB;IAA0B,OAAO,EAAExB;EAAnC,EAAxB,CADN,CADJ;AAKH;;;;;;;;;;;;;;;;;ACRM,SAASjB,IAAT,OAA8B;EAAA,IAAhB;IAAEG;EAAF,CAAgB;EACjC,MAAM;IACFI,cADE;IAEFC,gBAFE;IAGFC;EAHE,IAIFN,UAJJ;EAMA,MAAMuC,IAAI,GAAG,EAAb;EAEA,IAAGnC,cAAH,EACImC,IAAI,CAACC,IAAL,CAAU;IACNtC,GAAG,EAAE,SADC;IAENuC,KAAK,EAAE;EAFD,CAAV;EAKJ,IAAGpC,gBAAH,EACIkC,IAAI,CAACC,IAAL,CAAU;IACNtC,GAAG,EAAE,UADC;IAENuC,KAAK,EAAE;EAFD,CAAV;EAKJ,IAAGnC,WAAH,EACIiC,IAAI,CAACC,IAAL,CAAU;IACNtC,GAAG,EAAE,cADC;IAENuC,KAAK,EAAE;EAFD,CAAV;EAKJ,OACI;IAAI,SAAS,EAAC;EAAd,GACMF,IAAI,CAACF,GAAL,CAAUK,CAAC,IAAI;IAAI,GAAG,EAAEA,CAAC,CAACxC,GAAX;IAAgB,YAAUwC,CAAC,CAACxC;EAA5B,GAAmCwC,CAAC,CAACD,KAArC,CAAf,CADN,CADJ;AAKH;;;;;;;;;;;;;;;;;;;;;AChCD;AACA;AACA;AAEO,SAASI,IAAT,CAAcC,KAAd,EAAqB;EACxB,OACI,yEAASH,sEAAa,EAAtB,EACI,kEAAC,yCAAD,EAAWG,KAAX,CADJ,EAEI,kEAAC,qEAAD,EAA0BA,KAA1B,CAFJ,CADJ;AAMH;;;;;;;;;;;;;;;;;;;;;ACXD;AACA;AAEO,SAASF,oBAAT,OAA6D;EAAA,IAA/B;IAAE5C,UAAF;IAAcC;EAAd,CAA+B;EAChE,MAAM;IACFG,cADE;IAEFC,gBAFE;IAGFC;EAHE,IAIFN,UAJJ;EAMA,OACI,kEAAC,sEAAD,QACI,kEAAC,4DAAD;IAAW,KAAK,EAAC;EAAjB,GACI,kEAAC,2DAAD,QACI,kEAAC,gEAAD;IACI,KAAK,EAAC,oBADV;IAEI,OAAO,EAAEI,cAFb;IAGI,QAAQ,EAAE+C,KAAK,IAAIlD,aAAa,CAAC;MAAEG,cAAc,EAAE+C;IAAlB,CAAD;EAHpC,EADJ,CADJ,EASI,kEAAC,2DAAD,QACI,kEAAC,gEAAD;IACI,KAAK,EAAC,8BADV;IAEI,OAAO,EAAE9C,gBAFb;IAGI,QAAQ,EAAE8C,KAAK,IAAIlD,aAAa,CAAC;MAAEI,gBAAgB,EAAE8C;IAApB,CAAD;EAHpC,EADJ,CATJ,EAiBI,kEAAC,2DAAD,QACI,kEAAC,gEAAD;IACI,KAAK,EAAC,yBADV;IAEI,OAAO,EAAE7C,WAFb;IAGI,QAAQ,EAAE6C,KAAK,IAAIlD,aAAa,CAAC;MAAEK;IAAF,CAAD;EAHpC,EADJ,CAjBJ,CADJ,CADJ;AA6BH;;;;;;;;;;ACvCD;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA;AACA;AAEA;AAEA8C,oEAAiB,CAACC,6CAAD,EAAgB;EAC7BC,KAAK,EAAED,8CADsB;EAE7BrD,UAAU,EAAEqD,mDAFiB;EAG7BE,IAAI,EAAEV,uCAHuB;;EAI7BW,IAAI,GAAG;IACH,OAAO,IAAP;EACH;;AAN4B,CAAhB,CAAjB,C","sources":["webpack://hlebarovpress/./blocks/product-grid-tabs/block.jsx","webpack://hlebarovpress/./blocks/product-grid-tabs/components/Product.jsx","webpack://hlebarovpress/./blocks/product-grid-tabs/components/TabContent.jsx","webpack://hlebarovpress/./blocks/product-grid-tabs/components/Tabs.jsx","webpack://hlebarovpress/./blocks/product-grid-tabs/edit.jsx","webpack://hlebarovpress/./blocks/product-grid-tabs/inspector-controls.jsx","webpack://hlebarovpress/external window [\"wp\",\"apiFetch\"]","webpack://hlebarovpress/external window [\"wp\",\"blockEditor\"]","webpack://hlebarovpress/external window [\"wp\",\"blocks\"]","webpack://hlebarovpress/external window [\"wp\",\"components\"]","webpack://hlebarovpress/external window [\"wp\",\"element\"]","webpack://hlebarovpress/webpack/bootstrap","webpack://hlebarovpress/webpack/runtime/compat get default export","webpack://hlebarovpress/webpack/runtime/define property getters","webpack://hlebarovpress/webpack/runtime/hasOwnProperty shorthand","webpack://hlebarovpress/webpack/runtime/make namespace object","webpack://hlebarovpress/./blocks/product-grid-tabs/index.js"],"sourcesContent":["import apiFetch from '@wordpress/api-fetch';\nimport { useEffect } from '@wordpress/element';\n\nimport { Tabs } from './components/Tabs';\nimport { TabContent } from './components/TabContent';\n\nexport function Block({ attributes, setAttributes }) {\n    const key = 'ck_6698fe97c5b09db859422506c3b30cc8e6ec85e1';\n    const secret = 'cs_fb73e9e2afabc98f512e2e69b9452a379ce76667';\n\n    const {\n        onSaleProducts,\n        featuredProducts,\n        newProducts,\n        featuredProductsList,\n        newProductsList,\n        onSaleProductsList\n    } = attributes;\n\n    useEffect(() => {\n        apiFetch({\n            path: `/wc/v3/products?consumer_key=${key}&consumer_secret=${secret}&featured=true&per_page=8`,\n        }).then(products => {\n            setAttributes({ featuredProductsList: products });\n        });\n\n        apiFetch({\n            path: `/wc/v3/products?consumer_key=${key}&consumer_secret=${secret}&orderby=date&order=desc&per_page=8`,            \n        }).then(products => {\n            setAttributes({ newProductsList: products });\n        });\n\n        apiFetch({\n            path: `/wc/v3/products?consumer_key=${key}&consumer_secret=${secret}&on_sale=true&per_page=8`,            \n        }).then(products => {\n            setAttributes({ onSaleProductsList: products });\n        });\n\n    }, []);\n\n    return (\n        <div className=\"product-grid-tabs\">\n            <div className=\"product-grid-tabs__header\">\n                <h4>Just arrived in our store</h4>\n                <Tabs attributes={attributes} />\n            </div>\n            <div className=\"product-grid-tabs__content\">\n                { featuredProducts && featuredProductsList && <TabContent products={featuredProductsList} /> }\n                { newProducts && newProductsList && <TabContent products={newProductsList} />}\n                { onSaleProducts && onSaleProductsList && <TabContent products={onSaleProductsList } /> }\n            </div>\n        </div>\n    );\n}","export function Product({ product }) {\n    const now = new Date();\n    const createdAt = new Date(product.date_created);\n    const diffTime = Math.abs(now - createdAt);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n    const isNew = diffDays < 30;\n\n    const salePercentage = Math.ceil((parseFloat(product.regular_price) - parseFloat(product.sale_price)) / parseFloat(product.regular_price) * 100); \n\n    return (\n        <div className=\"cell medium-3\">\n            <div className=\"product-mini\">\n                <div className=\"product-mini__thumbnail\">\n                    { product.images.length && <img src={product.images[0].src} /> }\n                </div>\n                <div className=\"product-mini__caption\">\n                    <h6 className=\"product-mini__title\">{ product.name }</h6>\n                    <div className=\"product-mini__price\" dangerouslySetInnerHTML={{ __html: product.price_html }} />\n                </div>\n                { product.on_sale && <div className=\"product-mini__sale\">-{ salePercentage }%</div> }\n                { isNew && <div className=\"product-mini__new\">New</div> }\n                <a href={product.permalink} className=\"product-mini__permalink\"></a>\n            </div>\n        </div>\n    );\n}","import { Product } from './Product';\n\nexport function TabContent({ products }) {\n    return (\n        <div className=\"product-grid-tabs__grid grid-x grid-padding-x\">\n            { products.map(product => <Product key={product.id} product={product} />) }\n        </div>\n    );\n}","export function Tabs({ attributes }) {\n    const {\n        onSaleProducts,\n        featuredProducts,\n        newProducts\n    } = attributes;\n\n    const tabs = [];\n\n    if(onSaleProducts)\n        tabs.push({\n            key: 'on-sale',\n            label: 'On Sale'\n        });\n    \n    if(featuredProducts)\n        tabs.push({\n            key: 'features',\n            label: 'Featured'\n        });\n\n    if(newProducts)\n        tabs.push({\n            key: 'new-arrivals',\n            label: 'New Arrivals'\n        });\n\n    return (\n        <ul className=\"product-grid-tabs__tabs\">\n            { tabs.map( t => <li key={t.key} data-tab={t.key}>{ t.label }</li> ) }\n        </ul>\n    );\n}","import { useBlockProps } from '@wordpress/block-editor';\nimport { Block } from './block';\nimport { PGTInspectorControls } from './inspector-controls';\n\nexport function Edit(props) {\n    return (\n        <div {...useBlockProps()}>\n            <Block {...props} />\n            <PGTInspectorControls {...props} />\n        </div>\n    );\n}","import { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, PanelRow, ToggleControl } from '@wordpress/components';\n\nexport function PGTInspectorControls({ attributes, setAttributes }) {\n    const {\n        onSaleProducts,\n        featuredProducts,\n        newProducts\n    } = attributes;\n\n    return (\n        <InspectorControls>\n            <PanelBody title='Settings'>\n                <PanelRow>\n                    <ToggleControl\n                        label='Enable On Sale Tab'\n                        checked={onSaleProducts}\n                        onChange={value => setAttributes({ onSaleProducts: value })}\n                    />\n                </PanelRow>\n\n                <PanelRow>\n                    <ToggleControl\n                        label='Enable Featured Products Tab'\n                        checked={featuredProducts}\n                        onChange={value => setAttributes({ featuredProducts: value })}\n                    />\n                </PanelRow>\n\n                <PanelRow>\n                    <ToggleControl\n                        label='Enable New Products Tab'\n                        checked={newProducts}\n                        onChange={value => setAttributes({ newProducts })}\n                    />\n                </PanelRow>\n            </PanelBody>\n        </InspectorControls>\n    );\n}","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport metadata from './block.json';\n\nimport { Edit } from './edit';\n\nregisterBlockType(metadata.name, {\n    title: metadata.title,\n    attributes: metadata.attributes,\n    edit: Edit,\n    save() {\n        return null;\n    }\n});"],"names":["apiFetch","useEffect","Tabs","TabContent","Block","attributes","setAttributes","key","secret","onSaleProducts","featuredProducts","newProducts","featuredProductsList","newProductsList","onSaleProductsList","path","then","products","Product","product","now","Date","createdAt","date_created","diffTime","Math","abs","diffDays","ceil","isNew","salePercentage","parseFloat","regular_price","sale_price","images","length","src","name","__html","price_html","on_sale","permalink","map","id","tabs","push","label","t","useBlockProps","PGTInspectorControls","Edit","props","InspectorControls","PanelBody","PanelRow","ToggleControl","value","registerBlockType","metadata","title","edit","save"],"sourceRoot":""}