{"version":3,"file":"product-grid/index.js","mappings":"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","sources":["webpack://hlebarovpress/./blocks/product-grid/block.jsx","webpack://hlebarovpress/./blocks/product-grid/edit.jsx","webpack://hlebarovpress/./blocks/product-grid/inspector-controls.jsx","webpack://hlebarovpress/external window [\"wp\",\"apiFetch\"]","webpack://hlebarovpress/external window [\"wp\",\"blockEditor\"]","webpack://hlebarovpress/external window [\"wp\",\"blocks\"]","webpack://hlebarovpress/external window [\"wp\",\"components\"]","webpack://hlebarovpress/external window [\"wp\",\"element\"]","webpack://hlebarovpress/webpack/bootstrap","webpack://hlebarovpress/webpack/runtime/compat get default export","webpack://hlebarovpress/webpack/runtime/define property getters","webpack://hlebarovpress/webpack/runtime/hasOwnProperty shorthand","webpack://hlebarovpress/webpack/runtime/make namespace object","webpack://hlebarovpress/./blocks/product-grid/index.js"],"sourcesContent":["import { useEffect, useState } from \"@wordpress/element\";\nimport apiFetch from '@wordpress/api-fetch';\n\nfunction Product({ product }) {\n    return (\n        <div className=\"cell medium-3\">\n            <div className=\"product-square\">\n                <div className=\"product-square__thumbnail\">\n                    { product.images.length && <img src={product.images[0].src} /> }\n                </div>\n                <div className=\"product-square__overlay\">\n                    <h5 className=\"product-square__title\">{ product.name }</h5>\n                    <div className=\"product-square__price\" dangerouslySetInnerHTML={{ __html: product.price_html }} />\n                </div>\n                <a href={product.permalink} className=\"product-square__permalink\"></a>\n            </div>\n        </div>\n    )\n}\n\nexport function Block({ attributes }) {\n    const { category } = attributes;\n    const [products, setProducts] = useState([]);\n\n    const key = 'ck_6698fe97c5b09db859422506c3b30cc8e6ec85e1';\n    const secret = 'cs_fb73e9e2afabc98f512e2e69b9452a379ce76667';\n\n    useEffect(() => {\n        const query = category ? `category=${category}` : 'featured=true';\n        apiFetch({\n            path: `/wc/v3/products?consumer_key=${key}&consumer_secret=${secret}&${query}&per_page=4`,\n        }).then(products => {\n            console.log(products);\n            setProducts(products);\n        });\n    }, [category]);\n\n    return (\n        <div className=\"grid-x grid-margin-x\">\n            {products.map(p => <Product key={p.id} product={p} />)}\n            {products.length === 0 ? <h2 style={{ textAlign: 'center' }}>No Products</h2> : null}\n        </div>\n    );\n}","import { useBlockProps } from '@wordpress/block-editor';\nimport { ProductGridInspectorControls } from './inspector-controls';\nimport { Block } from './block';\n\nexport function Edit(props) {\n    return (\n        <div {...useBlockProps()}>\n            <ProductGridInspectorControls {...props} />\n            <Block {...props} />\n        </div>\n    )\n}","import { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, PanelRow, CheckboxControl, SelectControl } from '@wordpress/components';\nimport { useEffect, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nexport function ProductGridInspectorControls({ attributes, setAttributes }) {\n    const [categories, setCategories] = useState([]);\n\n    useEffect(() => {\n        apiFetch( { path: '/wp/v2/product_cat?per_page=100' } ).then( ( terms ) => {\n            const categories = terms.map( term => {\n                return {\n                    value: term.id,\n                    label: term.name\n                };\n            } );\n\n            categories.unshift({\n                value: 0,\n                label: 'None'\n            });\n\n            setCategories(categories);\n        });\n    }, []);\n\n    return (\n        <InspectorControls>\n            <PanelBody title='Settings'>\n                <PanelRow>\n                    <SelectControl\n                        label='Category'\n                        options={categories}\n                        help=\"By default featured products are shown in the grid. You can override this by choosing a category to fetch products from\"\n                        value={attributes.category}\n                        onChange={category => setAttributes({ category })}\n                    />\n                </PanelRow>\n            </PanelBody>\n        </InspectorControls>\n    )\n}","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport metadata from './block.json';\nimport { Edit } from './edit';\n\nregisterBlockType(metadata.name, {\n    title: metadata.title,\n    attributes: metadata.attributes,\n    supports: metadata.supports,\n    edit: Edit,\n    save(props) {\n        return null;\n    }\n});"],"names":["useEffect","useState","apiFetch","Product","product","images","length","src","name","__html","price_html","permalink","Block","attributes","category","products","setProducts","key","secret","query","path","then","console","log","map","p","id","textAlign","useBlockProps","ProductGridInspectorControls","Edit","props","InspectorControls","PanelBody","PanelRow","CheckboxControl","SelectControl","setAttributes","categories","setCategories","terms","term","value","label","unshift","registerBlockType","metadata","title","supports","edit","save"],"sourceRoot":""}